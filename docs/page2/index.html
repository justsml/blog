<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en">
<!--<![endif]-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Latest Posts – www.DanLevy.net</title>
<meta name="description" content="Dan Levy's Website &amp; Blog Musings">
<meta name="keywords" content="programming, languages, javascript, angularjs, devops, docker, security">


	<!-- Twitter Cards -->
	
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:image" content="http://localhost:4000/images/abstract-1.jpg">
		
	<meta name="twitter:title" content="Latest Posts">
	<meta name="twitter:description" content="Dan Levy's Website &amp; Blog Musings">
	<meta name="twitter:creator" content="@justsml">

	<script>window.twttr = (function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "https://platform.twitter.com/widgets.js";
  fjs.parentNode.insertBefore(js, fjs);
 
  t._e = [];
  t.ready = function(f) {
    t._e.push(f);
  };
 
  return t;
}(document, "script", "twitter-wjs"));
</script>




<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Dan Levy's Website &amp; Blog Musings">
<meta property="og:url" content="http://localhost:4000/page2/">
<meta property="og:site_name" content="www.DanLevy.net">

<meta name="google-site-verification" content="aQmDDAD2Nia138WekOPnb9tQ_J9AcRUDLbij5PxCmes">
<meta name="msvalidate.01" content="1A9E3CE623BA981E829FE1023285585D">


<link rel="canonical" href="http://localhost:4000/page2/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="www.DanLevy.net Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">
<link rel="stylesheet" href="http://localhost:4000/assets/css/custom.css">

<!-- Webfonts -->
<link async defer href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<script async defer src="http://localhost:4000/assets/js/hacks.js"></script>

<!-- <link async defer rel="stylesheet" href="http://localhost:4000/assets/css/prism.css">
<script async defer src="http://localhost:4000/assets/js/vendor/prism.js"></script>
 -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/default.min.css">
<script defer async="async" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>



<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">
<!--



<style type="text/css">body { background-repeat: repeat-x; background-image:url(http://localhost:4000/images/abstract-3.jpg);}</style>

-->

 <!-- Syntax Highlighting -->
<!-- <script async defer type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js'></script>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css' />
 --><!-- https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js
 -->
<style type="text/css">
#toc, .toc, .mw-warning {
    background-color: #F9F9F9;
    border: 1px solid #AAAAAA;
    font-size: 95%;
    padding: 5px;
}
#toc h2, .toc h2 {
    border: medium none;
    display: inline;
    font-size: 100%;
    font-weight: bold;
    padding: 0;
}
#toc #toctitle, .toc #toctitle, #toc .toctitle, .toc .toctitle {
    text-align: center;
}
#toc ul, .toc ul {
    list-style-image: none;
    list-style-type: none;
    margin-left: 0;
    margin-bottom: 0;
    padding-left: 0;
    text-align: left;
}
#toc ul ul, .toc ul ul {
    margin: 0 0 0 2em;
}
#toc .toctoggle, .toc .toctoggle {
    font-size: 94%;
}

#toc ul li {
    list-style-type: none;
    padding-left: 0;
}

#toc-container {
	margin-bottom: 10px;
}

</style>

</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000/">Home</a></li>
		<li><a href="http://localhost:4000/tags">Tags</a></li>
		<li>
			<a href="#">About Dan</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar.jpg" alt="Dan Levy photo" class="author-photo">
					<div class="clearfix"></div>
					<h3 style="float: left; display: inline; margin-left: 12px;">Dan Levy</h3>
					<p style="float: right; display: inline;">Devout Programmer</p>
					<div class="clearfix"></div>
				</li>
				<li><a href="/cv/resume-dan-levy-2015-07.pdf" target="_blank"><span class="btn btn-inverse">Resume</span></a></li>
				<li>
					<a href="mailto:Dan@DanLevy.net"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a target="_blank" href="http://github.com/justsml"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				<li>
					<a target="_blank" href="http://twitter.com/justsml"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a target="_blank" href="http://facebook.com/justsml"><i class="fa fa-fw fa-facebook"></i> Facebook</a>
				</li>
				<li>
					<a target="_blank" href="https://google.com/+justsml"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a target="_blank" href="http://linkedin.com/in/realdanlevy"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				
				
				
				
			</ul>
<!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Articles</a>
			<ul class="dl-submenu article-list">
				
					
	        <li class="entry-title">
	        	<a href="http://localhost:4000/2015/12/22/disable-transparent-hugepages/" title="MongoDB Tuning: disable-transparent-hugepages fix for Debian/Ubuntu">
	        		<div>MongoDB Tuning: disable-transparent-hugepages fix for Debian/Ubuntu</div>
		        	<em>2015-12-22</em>
	        	</a>
	        </li>
			  
					
	        <li class="entry-title">
	        	<a href="http://localhost:4000/2015/12/18/when-ai-fails-and-the-crashing-robot-cars/" title="When AI Fails &amp; the Crashing Robotic Cars">
	        		<div>When AI Fails &amp; the Crashing Robotic Cars</div>
		        	<em>2015-12-18</em>
	        	</a>
	        </li>
			  
					
	        <li class="entry-title">
	        	<a href="http://localhost:4000/2015/09/22/higher-order-programming/" title="Higher Order Programming">
	        		<div>Higher Order Programming</div>
		        	<em>2015-09-22</em>
	        	</a>
	        </li>
			  
					
	        <li class="entry-title">
	        	<a href="http://localhost:4000/2015/09/22/beautiful-engineering-models-and-data/" title="Beautiful Models (and Data)">
	        		<div>Beautiful Models (and Data)</div>
		        	<em>2015-09-22</em>
	        	</a>
	        </li>
			  
					
	        <li class="entry-title">
	        	<a href="http://localhost:4000/2015/08/05/angularjs-v2-impending-schism/" title="AngularJS v2.0 and the Impending Schism">
	        		<div>AngularJS v2.0 and the Impending Schism</div>
		        	<em>2015-08-05</em>
	        	</a>
	        </li>
			  
				<li style="text-align: center;"><a href="http://localhost:4000/posts/"><strong>[ All Articles ]</strong></a></li>
			</ul>
		</li>
		
	    
	    <li><a href="http://localhost:4000/cv/resume-dan-levy-2015-07.pdf">Download Resume</a></li>
	  
	    
	    <li><a href="http://github.com/justsml" target="_blank">GitHub</a></li>
	  
	</ul>
<!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="">dargadgetz</a>
</div>
<!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://localhost:4000/images/abstract-1.jpg" alt="Latest Posts">
    </div>
<!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>www.DanLevy.net</h1>
      <h2>Latest Posts</h2>
    </div>
<!-- /.header-title-wrap -->
  </div>
<!-- /.header-title -->
</div>
<!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/2015/06/12/polyglot-redux/" title="Polyglot Redux"><img src="http://localhost:4000/images/abstract-11.jpg" alt="Polyglot Redux"></a>
      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-12T00:00:00-06:00"><a href="http://localhost:4000/2015/06/12/polyglot-redux/">June 12, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Dan Levy">Dan Levy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~13 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/2015/06/12/polyglot-redux/" rel="bookmark" title="Polyglot Redux" itemprop="url">Polyglot Redux</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="programming-languages-notes">Programming Languages Notes</h1>

<h3 id="im-sure-my-miscellaneous-observations-have-been-made-before-but-here-is-my-list-of-most-interesting-languages">I’m sure my Miscellaneous Observations have been made before, but here is my list of most interesting languages:</h3>

<h2 id="javascript">JavaScript</h2>

<p>My One True Love, supremely versatile &amp; ubiquitous - the all-around, amazingly-powerful champ!
It’s the #1 Most Active/Popular Language on GitHub.com for <em>years</em> running.</p>

<p>I hate to admit it, but for years I foolishly had nothing but scorn and derision for what is now, <strong>my favorite language</strong>.</p>

<p><strong>ES6</strong> has only increased my ~<del>addiction</del>~ love. While pure ES5 will always hold a special place in my heart, each time I use some <strong>ES6</strong>, I feel that radioactive spider-bite…</p>

<p>There were 4 factors which pushed me into the <strong>ES6 Camp</strong>:</p>

<ol>
  <li>It’s fun. Seriously. There are tangible gains in beauty, clarity &amp; productivity.
    <ul>
      <li>Subjective claims, you say? Let me show you a bit of ES6:</li>
      <li><code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>let expired = users.filter(u =&gt; Date.now() &gt; u.trialDate)<span class="w">
</span></pre></td>
</tr></tbody></table>
</code></li>
      <li>Now you don’t have to pretend you know how to use <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>Object.create<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> or <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>Object.defineProperty<span class="w">
</span></pre></td>
</tr></tbody></table>
</code>
</li>
      <li>See examples below</li>
    </ul>
  </li>
  <li>As of July 2015,  ES6 is an officially finalized standard now!</li>
  <li>Support is Effectively 100%*! … Ok, BabelJS is needed to patch your code so it’s ES5 compatible. Historically JS transpilers have been frowned upon. However, as of late (2014-15) things have changed as BabelJS has become a key enabler/driver of language advancement. Tons of companies including Microsoft &amp; Facebook use it on some of the largest sites around.</li>
  <li>
<a href="https://nodejs.org/en/blog/release/v4.0.0/">Latest versions of Node</a> include the same V8 JS engine as Chrome v45, it’s v4.5</li>
</ol>

<h3 id="examples">Examples</h3>

<blockquote>
  <p>I’m going to show you what finally made me <em>start</em> drinking that ES6-flavoured KoolAid.</p>
</blockquote>

<p>In my recent experience, ES6 helps you write code faster. To the point.
Because code is more succinct, appreciably less brain power is needed to sift through and understand your old code (or that of a teammates).</p>

<p>I have regularly seen KLOC savings roughly of 20-50%. That’s like Kate Moss trim!</p>

<p><img src="/images/screenshots/Diff-ES6-vs-ES5-Head-to-Head.png" alt="EcmaScript 5 vs ES 2016 - Demo: Classes, Destructuring, Sexiness"></p>

<div class="language-js highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td>
<td class="code"><pre><span class="c1">// /services/users.js</span>
<span class="kr">class</span> <span class="nx">Users</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">data</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="p">}</span>
  <span class="nx">expired</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">users</span>
      <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">u</span> <span class="o">=&gt;</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">&gt;</span> <span class="nx">u</span><span class="p">.</span><span class="nx">trialDate</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table>
</div>
</div>
<ul>
  <li>No more tedious code to ‘extract’ and ‘check’ fields passed to a function. Cut to example <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>add()<span class="w">
</span></pre></td>
</tr></tbody></table>
</code>:</li>
</ul>

<div class="language-js highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td>
<td class="code"><pre><span class="c1">// /services/users.js</span>
<span class="kr">class</span> <span class="nx">Users</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">data</span> <span class="o">||</span> <span class="p">[];</span> <span class="p">}</span>
  <span class="nx">add</span><span class="p">({</span><span class="nx">name</span><span class="p">,</span> <span class="nx">email</span><span class="p">,</span> <span class="nx">password</span><span class="p">})</span> <span class="p">{</span>
    <span class="c1">// Store pwd hash, We only need to define 1 explicit `var/let` - the other vars are 'defined' with the `{fields}` wizardry above ^^^</span>
    <span class="kd">let</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">getSha256</span><span class="p">(</span><span class="nx">password</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">http</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/users'</span><span class="p">,</span> <span class="p">{</span>
      <span class="s1">'name'</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span>
      <span class="s1">'email'</span><span class="p">:</span> <span class="nx">email</span><span class="p">,</span>
      <span class="s1">'passwordHash'</span><span class="p">:</span> <span class="nx">hash</span>
    <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">usr</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">usr</span><span class="p">));</span> <span class="c1">// append user upon service response</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<script src="https://gist.github.com/justsml/aaddc9852c1624d61cf3.js"> </script>

<p> </p>

<h3 id="jumping-on-es6-can-feel-like-going-from">Jumping on ES6 can feel like going from:</h3>

<div class="anigif top">
  <img alt="huh" title="Huh?" src="http://res.cloudinary.com/ddd/image/upload/v1441143891/wtf__tumblr_inline_n7ygqh6Y0C1svcdm1_igeqey.gif">
</div>
<h3>To</h3>
<div class="anigif">
  <img alt="wtf" title="WTF?!?!" src="http://res.cloudinary.com/ddd/image/upload/v1443133148/cat-wtf-trap.gif">
</div>
<h3>To</h3>
<div class="anigif end">
  <img alt="#winning" title="#winning" src="http://res.cloudinary.com/ddd/image/upload/v1443133141/full-throttle.gif">
</div>

<p>Just keep sifting through the new stuff. Check out string templates, auto <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>this<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> binding, more-sane inheritance…</p>

<h4 id="nodejs"><a href="http://nodejs.org/">Node.JS</a></h4>

<h2 id="rust">Rust</h2>

<h4 id="official-site"><a href="http://www.rust-lang.org/">Official Site</a></h4>

<ul>
  <li>
<strong>Pros</strong>
    <ul>
      <li>Imagine if there was a language as fast as C and as powerful as Python/C++, yet without the complexity/pitfalls that usually trap even the most skilled devs.</li>
      <li>In fact I’d guess Rust is roughly as complex as the ES6 spec.</li>
      <li>It includes a ton of extras:
        <ol>
          <li>Essentially Rust transpiles from semi-dynamic syntax into <strong>pure C code</strong>!</li>
          <li>Including <strong>__all the best practices__</strong> in C you would probably screw up on, I <del>eventually</del> always do.
            <ul>
              <li>Automatically you get:</li>
              <li>Auto Memory management (no need for a slow garbage collector!)</li>
              <li>Perfectly scoped Object ownership/locking (mutexting &amp; context switching minimized)</li>
              <li>Object lifetimes (automatically implemented*, and auto coded like you knew every edge case)</li>
              <li>Prevent virtually all run time errors (seriously, your code-paths become explicit: you just can’t overlook a code-path)</li>
            </ul>
          </li>
        </ol>
      </li>
      <li>Oh yeah, it throws in true language extensibility with a sensible ‘macro’ feature.
        <ul>
          <li>Need Comprehensions? <a href="https://gist.github.com/hanny24/5749688">Scala style? Done</a>, and <a href="https://gist.github.com/JeffBelgum/5e762761cd63c796e803">Like Python? Done</a>.
            <ol>
              <li>Too good to be true? Nah, It gets better:</li>
            </ol>
            <ul>
              <li>Bleeding edge indicators (github.com stats) reveal Rust is highly competitive or even beating Go (Google’s hot-newish language)
                <ul>
                  <li>About 4K More Stars than Go (currently around 12,200)</li>
                  <li>More total Contributors ( 2x! - 1,071 vs. Go’s 479 )</li>
                  <li>More forks ( 3X! - 2,343 vs. 765 )</li>
                  <li>Number of Open Issues, Loses by a hair ( 2,000 vs 1,730 from Go )</li>
                  <li>Pull Requests (Rust 70+ vs. Go’s 1)</li>
                </ul>
              </li>
              <li>I had to triple check the numbers too.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>Other libraries are very stable due to the constructs &amp; rules of rust.</li>
      <li>Threading model usable by mere mortals</li>
    </ul>
  </li>
  <li>
<strong>Cons</strong>
    <ul>
      <li>Decent <strong>web frameworks</strong> are relatively new, untested, and usually undocumented (though they are <strong>getting</strong> very impressive - as of March 2015).</li>
      <li>Lots of early pre-1.0 breaking changes</li>
    </ul>
  </li>
</ul>

<h2 id="python">Python</h2>

<ul>
  <li>
<strong>Pros</strong>
    <ul>
      <li>Overwhelmingly complete assortment of algorithms are already implemented in Python ( see: scilearnkit, numpy, matplotlib, pil/pillow, etc. )</li>
      <li>Very Fun to write! Comprehensions and Decomposition are great features and make other languages seem just bloated!</li>
      <li>Arrays, ‘Sequences’, Tuples etc. are relatively simple</li>
    </ul>
  </li>
</ul>

<div class="language-python highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td>
<td class="code"><pre><span class="c"># dummy code: defines a color + pixel-coord -</span>
<span class="k">def</span> <span class="nf">pixel</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="o">=</span><span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="c"># Create a new pixel object and apply to set of vars</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">pixel</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
<span class="c"># Now we can call pixel</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<ul>
  <li>
<strong>Cons</strong>
    <ul>
      <li>Annoyingly, Python 2.x and 3.x are incompatible. The Great Schism continues, so many years later.</li>
      <li>Some essential libraries are not nessacerily understood by some devs (numpy)</li>
    </ul>
  </li>
</ul>

<h2 id="haskell">Haskell</h2>

<ul>
  <li>
<strong>Pros</strong>
    <ul>
      <li>Very rewarding when you finally memorize enough syntax to whip up comprehensions-based expressive patterns</li>
      <li>You will learn mind-bending code patterns - often somewhat applicable to other languages.</li>
    </ul>
  </li>
  <li>
<strong>Cons</strong>
    <ul>
      <li>Syntax &amp; Patterns can be hard to get used to.</li>
    </ul>
  </li>
</ul>

<div class="anigif end">
  <img alt="endless loop" src="http://res.cloudinary.com/ddd/image/upload/v1441143881/endless-loop.gif">
</div>

<h2 id="smalltalk-80">SmallTalk-80</h2>

<ul>
  <li>
<strong>Pros</strong>
    <ul>
      <li>Incredibly simple compilers (original especially)</li>
      <li>Great resources: <a href="http://peter.michaux.ca/articles/smalltalk-mvc-translated-to-javascript">Smalltalk MVC Translated to JavaScript</a>
</li>
    </ul>
  </li>
  <li>
<strong>Cons</strong>
    <ul>
      <li>You will likely never use this language for anything. Zero projects. However it will have more of an impact on your coding style, faster than other functional languages… This should be in the pros list)</li>
    </ul>
  </li>
</ul>

<h3 id="work-in-progress-updated-dec-2015"><em>Work-in-progress (updated Dec. 2015)</em></h3>


  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/2015/06/10/docker-great-though-boot2docker-sucks/" title="Docker rocks. Boot2docker just sucks."><img src="http://localhost:4000/images/abstract-10.jpg" alt="Docker rocks. Boot2docker just sucks."></a>
      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-10T23:00:12-06:00"><a href="http://localhost:4000/2015/06/10/docker-great-though-boot2docker-sucks/">June 10, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Dan Levy">Dan Levy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/2015/06/10/docker-great-though-boot2docker-sucks/" rel="bookmark" title="Docker rocks. Boot2docker just sucks." itemprop="url">Docker rocks. Boot2docker just sucks.</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="overview">Overview</h1>

<h2 id="updates-november-2015">Updates November 2015</h2>
<blockquote>
  <p>Boot2Docker</p>
</blockquote>

<h4 id="to-everyone-on-osx-or-windows-dont-let-boot2docker-leave-you-with-the-impression-that-docker-sucks-its-really-just-your-antique-os">To everyone on OSX or Windows: Don’t let Boot2docker leave you with the impression that Docker sucks! It’s really just your antique OS.</h4>

<ol>
  <li>Docker is amazing, period.</li>
  <li>However it’s rough-around-the-edges, hackey utility, boot2docker - for OS X, Windows and old Linux Kernels - leaves a <strong>lot</strong> to be desired.</li>
</ol>

<h1 id="issues">Issues</h1>

<blockquote>
  <p>Boot2docker causes 99/100 headaches compared with using a native docker install locally.
I should concede that it wraps several other complicated/flakey technologies:
VirtualBox, x-platform Folder Sharing, and also the docker cli command runs in a network-client mode so,
file copying, builds etc take a long time  vs. running a native docker server.
=============
Docker can currently only run natively on a Linux Kernel 3.4+ - and the current boot2docker vm actually runs v4.
Bottom Line: Install the Latest Debian (w/ xfce or MATE) on your Mac/Windows box,
… c’mon those games aren’t helping your code…</p>
</blockquote>

<h1 id="boot2docker-key-commands">Boot2docker Key Commands</h1>

<h2 id="when-you-get-error-fata0000">When you get error: ‘FATA[0000]’</h2>

<ul>
  <li>Full error message:
    <ul>
      <li>FATA[0000] Get http:///var/run/docker.sock/v1.18/info: dial unix /var/run/docker.sock: no such file or directory. Are you trying to connect to a TLS-enabled daemon without TLS?</li>
    </ul>
  </li>
  <li>Solution: You need some info from boot2docker
    <ul>
      <li>Run this to get the 3 needed shell environment variables:</li>
    </ul>
  </li>
</ul>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td>
<td class="code"><pre>boot2docker shellinit
<span class="c"># Copy &amp; paste the exports into the current shell, &amp; retry $(docker info)</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="get-docker-server-ip-address">Get Docker Server IP Address</h2>
<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>boot2docker ip
</pre></td>
</tr></tbody></table>
</div>
</div>
<blockquote>
  <p>Now your app on port 3000 is available at something like: http://$(boot2docker ip):3000/</p>
</blockquote>

<h1 id="boot2docker-quick-start-for-os-x">Boot2Docker Quick Start for OS X</h1>

<ol>
  <li>In a terminal on your <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>brew<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> able Mac:</li>
</ol>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td>
<td class="code"><pre>brew install boot2docker
boot2docker init
boot2docker up
</pre></td>
</tr></tbody></table>
</div>
</div>


  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/2015/06/06/javascript-scope-magic/" title="JavaScript Magic"><img src="http://localhost:4000/images/abstract-7.jpg" alt="JavaScript Magic"></a>
      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-06T00:00:00-06:00"><a href="http://localhost:4000/2015/06/06/javascript-scope-magic/">June 06, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Dan Levy">Dan Levy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~7 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/2015/06/06/javascript-scope-magic/" rel="bookmark" title="JavaScript Magic" itemprop="url">JavaScript Magic</a></h1>
    
  </header>
  <div class="entry-content">
    <h3 id="-work-in-progress-includes-future-javascript-article-ideas-">[ Work-in-progress, Includes Future JavaScript Article Ideas ]</h3>

<blockquote>
  <p>This post is geared to modern browsers and Node.JS/iojs.</p>
</blockquote>

<h1 id="imperative-vs-recursive-vs-functional">Imperative vs. Recursive vs. Functional</h1>

<div class="language-javascript highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36</pre></td>
<td class="code"><pre>
<span class="c1">// Imperative: The Fastest ( + very simple, no new pointers or excess allocs ):</span>
<span class="kd">function</span> <span class="nx">fib</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Recursive: (FIREFOX or BABELJS Only) ES6 function definition with</span>
<span class="c1">//  parameter defaults used to set initial (internal/recursive) values</span>
<span class="kd">function</span> <span class="nx">fib</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">current</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nx">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">current</span><span class="o">++</span><span class="p">;</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
  <span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
  <span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">current</span> <span class="o">&gt;=</span> <span class="nx">n</span> <span class="p">?</span> <span class="nx">b</span> <span class="p">:</span> <span class="nx">fib</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">current</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Text-book-Bad Example - poor function scope w/ multiple mutable external values</span>
<span class="kd">function</span> <span class="nx">fib</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span> <span class="nx">n</span><span class="o">=</span><span class="nx">n</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span> <span class="p">};</span><span class="c1">// Bad</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span><span class="o">===-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="p">[</span><span class="nx">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]];}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span><span class="o">===</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">arr</span><span class="p">;}</span>
  <span class="kd">var</span> <span class="nx">proc</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="o">--</span><span class="nx">n</span><span class="p">;</span>
    <span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">]);</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">n</span><span class="o">===</span><span class="mi">0</span> <span class="p">?</span> <span class="nx">arr</span> <span class="p">:</span> <span class="nx">proc</span><span class="p">());</span>
    <span class="c1">// Bad: inner recursive function not needed, hint: variables used are from parent function scope</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">ans</span> <span class="o">=</span> <span class="nx">proc</span><span class="p">();</span>
  <span class="k">return</span> <span class="nx">ans</span><span class="p">[</span><span class="nx">ans</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<h1 id="promises-awesome">Promises: Awesome!</h1>

<div class="language-js highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td>
<td class="code"><pre>
<span class="c1">// Example Using bluebird Promises and it's</span>
<span class="kd">var</span> <span class="nx">Promise</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'bluebird'</span><span class="p">),</span>
    <span class="nx">fs</span> <span class="o">=</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">promisifyAll</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">)),</span>
    <span class="nx">less</span> <span class="o">=</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">promisifyAll</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">'less'</span><span class="p">));</span>

<span class="kd">function</span> <span class="nx">writeFileData</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFileAsync</span><span class="p">(</span><span class="s1">'/tmp/output.css'</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// Bluebird makes something like this perhaps uncomfortably simple and succinct:</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFileAsync</span><span class="p">(</span><span class="s1">'./style.less'</span><span class="p">)</span> <span class="c1">// Call promisified readFile()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">less</span><span class="p">.</span><span class="nx">renderAsync</span><span class="p">)</span>         <span class="c1">// Hand off to less.render</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">writeFileData</span><span class="p">);</span>      <span class="c1">// Function to recieve the css contents (1st parameter)</span>

</pre></td>
</tr></tbody></table>
</div>
</div>
<ol>
  <li>While, native ES6 Promises are great, I prefer the robust <a href="https://github.com/petkaantonov/bluebird/blob/master/API.md">Bluebird Promise Library</a>.</li>
  <li>Library or not, modern browsers have supported Promise for years.</li>
  <li>Promises can be utilized without crazy patterns - implicit <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>deferred<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> is preferable.</li>
  <li>
<strong>$q just sucks</strong> just use bluebird, see above.</li>
  <li>Worth mentioning: Bluebirds Benchmarks are best-case tests, so take note if doing crazy fancy promise chains</li>
</ol>

<h1 id="java-vs-javascript">Java vs JavaScript</h1>

<h2 id="rate-limiting--debouncing--throttling">Rate Limiting / Debouncing / Throttling</h2>

<ol>
  <li>In JavaScript <a href="http://davidwalsh.name/essential-javascript-functions">David Walsh implemented debounce</a> in less than 20 lines!</li>
  <li>In Java, JDebounce, an library which is a lot more complicated, at ~500+ lines.</li>
  <li>_ Comparing the two: _</li>
  <li>The JavaScript is fast &amp; uses first-class functions to achieve brilliant simplicity.</li>
  <li>Whereas the Java has many more moving parts, annotations are used to apply behaviour at compile-time, and there’s a ton of XML, just for funsies!</li>
</ol>

<h1 id="inversion-of-control-techniques">Inversion of Control Techniques</h1>

<p>Work-in-progress</p>


  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/2015/06/06/docker-firewall-setup/" title="Docker Firewall Setup"><img src="http://localhost:4000/images/abstract-8.jpg" alt="Docker Firewall Setup"></a>
      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-06-06T00:00:00-06:00"><a href="http://localhost:4000/2015/06/06/docker-firewall-setup/">June 06, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Dan Levy">Dan Levy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/2015/06/06/docker-firewall-setup/" rel="bookmark" title="Docker Firewall Setup" itemprop="url">Docker Firewall Setup</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="setup-docker-host-firewall">Setup Docker Host Firewall</h1>

<ol>
  <li>Debian/Ubuntu Server is assumed</li>
  <li>Designed to run on Docker Host Server</li>
</ol>

<h2 id="install-requirements">Install Requirements</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td>
<td class="code"><pre><span class="c"># Ultimate Firewall Needed</span>
apt-get update <span class="o">&amp;&amp;</span> apt-get install -y ufw nmap curl
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="get-your-internal--external-ip-addresses">Get your Internal &amp; External IP Addresses</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td>
<td class="code"><pre><span class="c"># Get your IP Addresses, simple output:</span>
hostname --all-ip-addresses

<span class="c"># OR use ip tool, example:</span>
ip addr
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="firtewall-ufw-setup---example-cmds">Firtewall (UFW) Setup - Example Cmds</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td>
<td class="code"><pre>ufw logging on <span class="c"># on=low - medium might be better for diagnostics</span>
ufw logging medium
<span class="c"># First, block all the things</span>
ufw default deny incoming

<span class="c"># REQUIRED: CHOOSE *ONE* OF THE FOLLOWING DEFAULT OUTBOUND RULES:</span>
ufw default deny outgoing
ufw default allow outgoing


<span class="c"># Allow and log all new ssh connections,</span>
ufw allow log proto tcp from any to any port 22
<span class="c">## Allow http traffic (w/o explicit logging)</span>
ufw allow out on docker0 53/udp to 172.17.0.1/16
ufw allow out on eth0 to any port 53
ufw allow out on eth0 from 0.0.0.0/0 to any port 80 proto tcp
ufw allow out on eth0 from 0.0.0.0/0 to any port 443 proto tcp

<span class="c"># Verbose: ufw allow proto tcp from any to any port 80</span>
ufw allow 80/tcp
ufw allow 443/tcp
ufw allow log 22/tcp
ufw limit ssh <span class="c"># Basic Rate limit 4 SSH brute force mitigation</span>

<span class="c"># Set your ext IP</span>
<span class="nb">export </span><span class="nv">EXTERNAL_IP</span><span class="o">=</span>123.123.123.123
<span class="c"># Update docker IP if needed</span>
<span class="nb">export </span><span class="nv">DOCKER_IP</span><span class="o">=</span>172.17.42.1
<span class="c"># Forward tcp 8080 traffic to  Dockerized App</span>
ufw allow proto tcp from <span class="nv">$EXTERNAL_IP</span> port 8080 to <span class="nv">$DOCKER_IP</span> port 3000
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="enable--start-firewall">Enable / Start Firewall</h2>

<blockquote>
  <p>Be Careful, Don’t Lock out your SSH port (sshd defaults to 22)</p>
</blockquote>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td>
<td class="code"><pre>ufw --force <span class="nb">enable

</span>ufw reset
</pre></td>
</tr></tbody></table>
</div>
</div>

<hr>

<h2 id="test-your-firewall">Test Your Firewall</h2>

<blockquote>
  <p>Important: USE A REMOTE IP ADDR/LOCATION</p>
</blockquote>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td>
<td class="code"><pre><span class="c"># Verify dependency</span>
apt-get update <span class="o">&amp;&amp;</span> apt-get install -y nmap

<span class="c"># Set scan target</span>
<span class="nb">export </span><span class="nv">TARGET_HOST</span><span class="o">=</span>123.123.123.123

<span class="c"># Example Scan Commands:</span>
<span class="c"># Fast open port check</span>
nmap -p 1-10240,27017 -T5 <span class="nv">$TARGET_HOST</span>
<span class="c"># Thorough scan</span>
nmap -p 1-10240,27017 --open -v -APN <span class="nv">$TARGET_HOST</span>
<span class="c"># Svc Inspection</span>
nmap -p 1-10240,27017 -O --osscan-guess <span class="nv">$TARGET_HOST</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<h4 id="done-now-you-should-see-only-the-ports-you-configured">DONE! Now you should see ONLY the ports you configured!</h4>


  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="http://localhost:4000/2015/04/05/docker-server-setup-notes/" title="Docker server Setup"><img src="http://localhost:4000/images/abstract-7.jpg" alt="Docker server Setup"></a>
      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-04-05T19:00:59-06:00"><a href="http://localhost:4000/2015/04/05/docker-server-setup-notes/">April 05, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Dan Levy">Dan Levy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~7 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://localhost:4000/2015/04/05/docker-server-setup-notes/" rel="bookmark" title="Docker server Setup" itemprop="url">Docker server Setup</a></h1>
    
  </header>
  <div class="entry-content">
    <h1 id="docker-host-server-setup">Docker <strong>Host Server</strong> Setup</h1>

<h2 id="basic-monitoring-tools">Basic Monitoring Tools</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td>
<td class="code"><pre><span class="c"># Debian/BSD Requirements / Updates + monitoring tools: atop &amp; htop</span>
apt-get update <span class="o">&amp;&amp;</span> apt-get install -y vim-nox git-core curl atop htop build-essential libssl-dev linux-image-amd64 linux-headers-amd64 sudo

<span class="c"># OSX, Debian &amp; RHEL: Host OS Tuning</span>
sysctl -w vm.max_map_count<span class="o">=</span>262144

<span class="c"># Updates Profile init scripts before appending new scripts below</span>
mkdir ~/backups
cp ~/.bash<span class="k">*</span> ~/backups/

<span class="c"># Debian/BSD:  Append Shell Environment Shortcuts + XTERM Colors</span>
curl -o- https://raw.githubusercontent.com/justsml/system-setup-tools/master/modules/vim-update.sh | bash

curl -sSL https://raw.githubusercontent.com/justsml/system-setup-tools/master/home-scripts/.bashrc &gt;&gt; ~/.bashrc
curl -sSL https://raw.githubusercontent.com/justsml/system-setup-tools/master/home-scripts/.bash_aliases &gt;&gt; ~/.bash_aliases
<span class="c"># Read into current shell (login steps already missed the aliases file)</span>
<span class="nb">source</span> ~/.bashrc

<span class="c"># Docker pre reqs</span>
<span class="c"># sudo apt-get install -y linux-image-virtual linux-image-extra-virtual</span>
<span class="c"># Install Docker, straight from the horses mouth</span>
curl -sSL https://get.docker.com/ | sh

</pre></td>
</tr></tbody></table>
</div>
</div>

<blockquote>
  <p>Only for SELinux Enabled Systems</p>
</blockquote>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td>
<td class="code"><pre><span class="c"># SELinux fixes (optional)</span>
<span class="c"># chcon -Rt svirt_sandbox_file_t /mongodb</span>
<span class="c"># chcon -Rt svirt_sandbox_file_t /elastic</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<h1 id="simple-database-setupstartup">Simple Database Setup/Startup</h1>

<h2 id="mongodb-v3-server">MongoDB v3 Server</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td>
<td class="code"><pre>mkdir /mongodb
docker run --name mongo -p 27017:27017 -v /mongodb:/data -d mongo:latest bash -c <span class="s1">'mongod --logpath /data/mongodb.log --logappend --dbpath /data/data --storageEngine=wiredTiger'</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="elastic-search">Elastic Search</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td>
<td class="code"><pre>mkdir /elastic
docker run --name elastic -d -p 9200:9200 -p 9300:9300 -v /elastic:/data elasticsearch bash -c <span class="s1">'elasticsearch --cluster.name elastic_cluster --node.name elastic01 --path.data /data/elastic-data --path.logs /data/elastic-logs '</span>
</pre></td>
</tr></tbody></table>
</div>
</div>

<blockquote>
  <p>You just lit up 2 database docker instances!!!
If it were any easier, I’m pretty sure you couldn’t invoice for it.</p>
</blockquote>

<h1 id="package-up-your-nodejsrubypythonweb-app">Package up your NodeJS/Ruby/Python/Web App</h1>

<ol>
  <li>Add a blank file named <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>Dockerfile<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> in your project root.</li>
  <li>
<em>(Optional, Recommended)</em> Add a <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>.dockerignore<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> using .gitignore rules to exclude large non-essential paths. By default all project files are included.</li>
</ol>

<h2 id="create-a-dockerfile">Create a <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>Dockerfile<span class="w">
</span></pre></td>
</tr></tbody></table>
</code>
</h2>

<pre><code class="language-dockerfile"># Example for NodeJS
FROM node:0.12
EXPOSE [3000]
COPY . /app/
WORKDIR /app
RUN apt-get update \
	&amp;&amp; apt-get dist-upgrade -y
RUN ["npm", "install"]
# Overridable Command
CMD ["npm", "start"]
</code></pre>

<p>It’s easier to show how to start using the Dockerfile and demonstrate the results via console (see commands below).</p>

<p>In terminal, <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>cd<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> to your project folder and run the following <code class="highlighter-rouge"><table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>build<span class="w">
</span></pre></td>
</tr></tbody></table>
</code> command <em>everytime</em> you deploy changes - or want to change/upgrade OS or Env config)</p>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>docker build -t app-name-here .
</pre></td>
</tr></tbody></table>
</div>
</div>

<h1 id="docker-commands-to-learn">Docker Commands to Learn</h1>

<h2 id="build-docker-image-every-deploychange">Build Docker Image Every Deploy/Change</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>docker build -t app-name-here .
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="createrun-web-app-w-links-to-db-servers">Create/Run Web App w/ Links to DB Servers</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>docker run -d --name webapp01 -p 3000:3000 --link mongo:mongo --link elastic:elastic app-name-here
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="run-interactively-non-daemon-in-terminal">Run Interactively (non-daemon, in terminal)</h2>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td>
<td class="code"><pre>docker run -it --name webapp01 -p 3000:3000 --link mongo:mongo --link elastic:elastic app-name-here bash
</pre></td>
</tr></tbody></table>
</div>
</div>

<h2 id="delete-container-instance-or-image">Delete Container Instance or Image</h2>

<blockquote>
  <p>Important: Any data not stored on the mounted volume path will be lost!!</p>
</blockquote>

<div class="language-sh highlighter-rouge">
<div class="highlight">
<table style="border-spacing: 0"><tbody><tr>
<td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td>
<td class="code"><pre><span class="c"># Delete Image</span>
docker rmi -f app-name-here
docker rm -f webapp01
<span class="c"># now re-run your `docker run...` from ^^^</span>
<span class="c"># So for example, let's kill your db instances above, run: ( start with something like `docker stop {mongo,elastic}` )</span>
docker rm -f mongo elastic
</pre></td>
</tr></tbody></table>
</div>
</div>


  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    
      <a href="http://localhost:4000" class="btn">Previous</a>
    
  
  <ul class="inline-list">
    <li>
      
        <a href="http://localhost:4000">1</a>
      
    </li>
    
      <li>
        
          <span class="current-page">2</span>
        
      </li>
    
      <li>
        
          <a href="http://localhost:4000/page3">3</a>
        
      </li>
    
  </ul>
  
    <a href="http://localhost:4000/page3" class="btn">Next</a>
  
</div>
<!-- /.pagination -->


</div>
<!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span class="faded">© 2017 Dan Levy. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/" rel="notfollow">HPSTR Theme</a>.</span>



<script>
  try {
    setTimeout(function() {
      hljs.initHighlightingOnLoad();
    }, hljs ? 10 : 5000);
  } catch(ex) {
    // err, highlightjs failed to async load
  }

</script>



  </footer>
</div>
<!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59708923-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>




</body>
</html>
